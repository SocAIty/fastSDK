{"openapi":"3.1.0","info":{"title":"Face2Face service","summary":"Swap faces from images and videos. Create face embeddings.","contact":{"name":"SocAIty","url":"https://www.socaity.ai/"},"version":"0.1.0","fast-task-api":"1.0.9"},"paths":{"/status":{"post":{"summary":"Get Job","description":"Get the status and result of a job.\n\nArgs:\n    job_id: The ID of the job\n    return_format: Response format ('json' or 'gzipped')\n    keep_alive: If True, job result is kept in memory/disk\n\nReturns:\n    JobResult with status and results","operationId":"get_job_status_post","parameters":[{"name":"job_id","in":"query","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"return_format","in":"query","required":false,"schema":{"type":"string","default":"json","title":"Return Format"}},{"name":"keep_alive","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Keep Alive"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Get Health","description":"Get server health status.\n\nReturns:\n    HTTP response with health status","operationId":"get_health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/swap-img-to-img":{"post":{"summary":"Swap Img To Img","description":"Swap faces between two images.\n\nArgs:\n    source_img: Source image containing the face(s) to swap from\n    target_img: Target image containing the face(s) to swap to\n    enhance_face_model: Face enhancement model to use. Defaults to 'gpen_bfr_512'\n\nReturns:\n    ImageFile: The resulting image with swapped faces","operationId":"swap_img_to_img_swap_img_to_img_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_swap_img_to_img_swap_img_to_img_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/add-face":{"post":{"summary":"Add Face","description":"Add one or multiple reference face(s) to the face swapper.\n\nArgs:\n    face_name: Name(s) for the reference face(s).\n        - If a single string, creates one face embedding\n        - If a list of strings, creates embeddings for each face from left to right in the image\n    image: The image from which to extract the face(s).\n        - ImageFile: Standard image file\n    save: Whether to save the face embeddings to disk.\n        Note: This is controlled by ALLOW_EMBEDDING_SAVE_ON_SERVER setting\n\nReturns:\n    Union[MediaFile, MediaDict]:\n        - For single face: MediaFile containing the face embedding\n        - For multiple faces: MediaDict mapping face names to their embeddings\n\nRaises:\n    ValueError: If no face name is provided or no faces are detected in the image","operationId":"add_face_add_face_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_add_face_add_face_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/swap":{"post":{"summary":"Swap","description":"Swap faces in an image or video.\n\nArgs:\n    faces: The face(s) to swap to. Can be:\n        - str: Name of a reference face\n        - dict: Swap pairs with structure {source_face_name: target_face_name}\n        - list: List of face names or Face embeddings\n        - MediaFile: Single face embedding file\n        - MediaList: Multiple face embedding files\n    media: The image or video to swap faces in\n    enhance_face_model: Face enhancement model to use. Defaults to 'gpen_bfr_512'\n\nReturns:\n    Union[ImageFile, VideoFile]: The resulting media with swapped faces\n\nRaises:\n    ValueError: If no faces are provided or media type is unsupported","operationId":"swap_swap_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_swap_swap_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/swap-video":{"post":{"summary":"Swap Video","description":"Swap faces in a video file.\n\nArgs:\n    job_progress: Progress tracker for the job\n    face_name: The face(s) to swap to. Can be:\n        - str: Name of a reference face\n        - list: List of face names or Face objects\n        - MediaFile: Single face embedding file\n        - MediaList: Multiple face embedding files\n    target_video: The video to swap faces in\n    include_audio: Whether to include audio in the output video\n    enhance_face_model: Face enhancement model to use. Defaults to 'gpen_bfr_512'\n\nReturns:\n    VideoFile: The resulting video with swapped faces\n\nRaises:\n    ValueError: If no faces are provided or video cannot be processed","operationId":"swap_video_swap_video_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_swap_video_swap_video_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_add_face_add_face_post":{"properties":{"face_name":{"anyOf":[{"type":"string"},{"items":{"type":"string"},"type":"array"}],"title":"Face Name"},"image":{"anyOf":[{"type":"string","format":"binary"},{"$ref":"#/components/schemas/ImageFileModel"}],"title":"Image"},"save":{"type":"boolean","title":"Save","default":false}},"type":"object","required":["face_name","image"],"title":"Body_add_face_add_face_post"},"Body_swap_img_to_img_swap_img_to_img_post":{"properties":{"source_img":{"anyOf":[{"type":"string","format":"binary"},{"$ref":"#/components/schemas/ImageFileModel"}],"title":"Source Img"},"target_img":{"anyOf":[{"type":"string","format":"binary"},{"$ref":"#/components/schemas/ImageFileModel"}],"title":"Target Img"},"enhance_face_model":{"type":"string","enum":["","gpen_bfr_512","gpen_bfr_1024","gpen_bfr_2048"],"title":"Enhance Face Model","default":"gpen_bfr_512"}},"type":"object","required":["source_img","target_img"],"title":"Body_swap_img_to_img_swap_img_to_img_post"},"Body_swap_swap_post":{"properties":{"faces":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"object"},{"items":{"type":"string","format":"binary"},"type":"array"},{"items":{"$ref":"#/components/schemas/FileModel"},"type":"array"}],"title":"Faces"},"media":{"anyOf":[{"type":"string","format":"binary"},{"$ref":"#/components/schemas/ImageFileModel"}],"title":"Media"},"enhance_face_model":{"type":"string","enum":["","gpen_bfr_512","gpen_bfr_1024","gpen_bfr_2048"],"title":"Enhance Face Model","default":"gpen_bfr_512"}},"type":"object","required":["faces","media"],"title":"Body_swap_swap_post"},"Body_swap_video_swap_video_post":{"properties":{"faces":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"object"},{"items":{"type":"string","format":"binary"},"type":"array"},{"items":{"$ref":"#/components/schemas/FileModel"},"type":"array"}],"title":"Faces"},"target_video":{"anyOf":[{"type":"string","format":"binary"},{"$ref":"#/components/schemas/VideoFileModel"}],"title":"Target Video"},"include_audio":{"type":"boolean","title":"Include Audio","default":true},"enhance_face_model":{"type":"string","enum":["","gpen_bfr_512","gpen_bfr_1024","gpen_bfr_2048"],"title":"Enhance Face Model","default":"gpen_bfr_512"}},"type":"object","required":["faces","target_video"],"title":"Body_swap_video_swap_video_post"},"FileModel":{"properties":{"file_name":{"type":"string","title":"File Name"},"content_type":{"type":"string","title":"Content Type"},"content":{"anyOf":[{"type":"string"},{"type":"string","minLength":1,"format":"uri"}],"title":"Content"},"max_size_mb":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Size Mb","default":4000}},"type":"object","required":["file_name","content_type","content"],"title":"FileModel"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ImageFileModel":{"properties":{"file_name":{"type":"string","title":"File Name"},"content_type":{"type":"string","title":"Content Type"},"content":{"anyOf":[{"type":"string"},{"type":"string","minLength":1,"format":"uri"}],"title":"Content"},"max_size_mb":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Size Mb","default":4000}},"type":"object","required":["file_name","content_type","content"],"title":"ImageFileModel"},"JobProgress":{"properties":{"progress":{"type":"number","title":"Progress","default":0.0},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","title":"JobProgress"},"JobResult":{"properties":{"id":{"type":"string","title":"Id"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"progress":{"anyOf":[{"$ref":"#/components/schemas/JobProgress"},{"type":"null"}]},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"result":{"anyOf":[{"$ref":"#/components/schemas/FileModel"},{"items":{"$ref":"#/components/schemas/FileModel"},"type":"array"},{"items":{},"type":"array"},{"type":"string"},{"type":"null"}],"title":"Result"},"refresh_job_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Refresh Job Url"},"cancel_job_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cancel Job Url"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"queued_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Queued At"},"execution_started_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Execution Started At"},"execution_finished_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Execution Finished At"},"endpoint_protocol":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Endpoint Protocol","default":"socaity"}},"type":"object","required":["id"],"title":"JobResult","description":"When the user (client) sends a request to an Endpoint, a ClientJob is created.\nThis job contains the information about the request and the response."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VideoFileModel":{"properties":{"file_name":{"type":"string","title":"File Name"},"content_type":{"type":"string","title":"Content Type"},"content":{"anyOf":[{"type":"string"},{"type":"string","minLength":1,"format":"uri"}],"title":"Content"},"max_size_mb":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Size Mb","default":4000}},"type":"object","required":["file_name","content_type","content"],"title":"VideoFileModel"}}}}